server {
    listen 80;
    server_name 3.37.88.183;

    location / {
        root /usr/share/nginx/html;
        index index.html;
        try_files $uri $uri/ /index.html;
    }

    location /static/ {
        root /usr/share/nginx/html;
    }

    location /api/ {
        include proxy_params;
        proxy_pass http://127.0.0.1:8000;  # TCP 포트로 변경
    }

    location /review/ {
        include proxy_params;
        proxy_pass http://127.0.0.1:8000;
    }

    location /product/ {
        include proxy_params;
        proxy_pass http://127.0.0.1:8000;
    }

    location /reservation/ {
        include proxy_params;
        proxy_pass http://127.0.0.1:8000;
    }

    location /permissions/ {
        include proxy_params;
        proxy_pass http://127.0.0.1:8000;
    }

    location /django-static/ {
        root /home/ubuntu/rian_123/be/;
    }

    location /media/ {
        root /home/ubuntu/rian_123/be/;
    }
}
